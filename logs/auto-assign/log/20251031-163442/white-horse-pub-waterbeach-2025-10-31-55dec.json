{
  "generatedAt": "2025-10-31T16:34:42.708Z",
  "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
  "restaurantSlug": "white-horse-pub-waterbeach",
  "date": "2025-10-31",
  "decisionCount": 55,
  "decisions": [
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:43.486Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "f7d4d088-e1b0-4d8a-b4f1-1e63f7a0e579",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T12:00:00Z",
        "end": "2025-10-31T13:20:00Z"
      },
      "selected": {
        "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
        "tableNumbers": ["OG-02"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 2596.4,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 2596.4,
        "plannerMs": 0.8,
        "assignmentMs": 910.03
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.733250000004773,
          "buildScoredTablePlansMs": 0.733250000004773,
          "enumerateCombinationsMs": 0.1971250000060536,
          "sortingMs": 0.13845800000126474,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 33.92912500000966,
          "futureBookingsConsidered": 15,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:44.768Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "1cb730d3-59b4-44ac-81d3-6d3c9a46fa2e",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T12:00:00Z",
        "end": "2025-10-31T13:20:00Z"
      },
      "selected": {
        "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
        "tableNumbers": ["OG-03"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 774.69,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 774.69,
        "plannerMs": 0.57,
        "assignmentMs": 708.52
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.5012919999862788,
          "buildScoredTablePlansMs": 0.5012919999862788,
          "enumerateCombinationsMs": 0.27237500000046566,
          "sortingMs": 0.10045900000841357,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 35.400125000000116,
          "futureBookingsConsidered": 15,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:46.478Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "e69cbc6f-3036-4c22-81af-b826dd1ab5f4",
      "partySize": 7,
      "window": {
        "start": "2025-10-31T12:15:00Z",
        "end": "2025-10-31T13:45:00Z"
      },
      "selected": {
        "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
        "tableNumbers": ["OG-06"],
        "totalCapacity": 8,
        "tableCount": 1,
        "slack": 1,
        "score": 14.8326,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 7.332599999999999,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 14.8326
        }
      },
      "topCandidates": [
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1270.82,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1270.82,
        "plannerMs": 0.06,
        "assignmentMs": 624.12
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 5,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 7,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 1,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 5,
          "accepted": 5
        },
        "performance": {
          "totalDurationMs": 0.03704199999629054,
          "buildScoredTablePlansMs": 0.03704199999629054,
          "enumerateCombinationsMs": 0.017999999996391125,
          "sortingMs": 0.0014579999988200143,
          "inputSize": {
            "tableCount": 11,
            "partySize": 7,
            "validTablesCount": 7,
            "singleTableCandidatesCount": 5
          },
          "iterations": {
            "totalEvaluations": 5,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 5.432125000006636,
          "futureBookingsConsidered": 13,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 11,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 11
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 11,
        "remainingAfterSelection": 10,
        "remainingTables": [
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:47.521Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "5d51d8bc-642a-441b-a413-7a5582df0bc5",
      "partySize": 7,
      "window": {
        "start": "2025-10-31T12:15:00Z",
        "end": "2025-10-31T13:45:00Z"
      },
      "selected": {
        "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
        "tableNumbers": ["PT-07"],
        "totalCapacity": 8,
        "tableCount": 1,
        "slack": 1,
        "score": 14.8326,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 7.332599999999999,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 14.8326
        }
      },
      "topCandidates": [
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 713.86,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 713.86,
        "plannerMs": 0.11,
        "assignmentMs": 684.51
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 5,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 7,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 1,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 5,
          "accepted": 5
        },
        "performance": {
          "totalDurationMs": 0.09245900000678375,
          "buildScoredTablePlansMs": 0.09245900000678375,
          "enumerateCombinationsMs": 0.03266700000676792,
          "sortingMs": 0.014790999994147569,
          "inputSize": {
            "tableCount": 11,
            "partySize": 7,
            "validTablesCount": 7,
            "singleTableCandidatesCount": 5
          },
          "iterations": {
            "totalEvaluations": 5,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 7.125125000005937,
          "futureBookingsConsidered": 13,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 11,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 11
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 11,
        "remainingAfterSelection": 10,
        "remainingTables": [
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:49.268Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "ea5b8c33-6972-42d2-9b38-c577cbcc2f70",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T12:30:00Z",
        "end": "2025-10-31T13:50:00Z"
      },
      "selected": {
        "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
        "tableNumbers": ["PT-03"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1384.82,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1384.82,
        "plannerMs": 0.19,
        "assignmentMs": 655.92
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.1648750000022119,
          "buildScoredTablePlansMs": 0.1648750000022119,
          "enumerateCombinationsMs": 0.1002920000028098,
          "sortingMs": 0.004167000006418675,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 24.68162499999744,
          "futureBookingsConsidered": 10,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:50.464Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "99e420e5-eedf-434a-b9eb-573aceef8a09",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T12:30:00Z",
        "end": "2025-10-31T13:50:00Z"
      },
      "selected": {
        "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
        "tableNumbers": ["PT-04"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 703.33,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 703.33,
        "plannerMs": 0.05,
        "assignmentMs": 669.45
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.04729099999531172,
          "buildScoredTablePlansMs": 0.04729099999531172,
          "enumerateCombinationsMs": 0.030417000001762062,
          "sortingMs": 0.003333000000566244,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 22.361999999993714,
          "futureBookingsConsidered": 10,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:51.727Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "43cc8403-49ae-4fcc-b0eb-4a52466592b3",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T12:30:00Z",
        "end": "2025-10-31T13:50:00Z"
      },
      "selected": {
        "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
        "tableNumbers": ["BA-03"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 11,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 11,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 11
        }
      },
      "topCandidates": [
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 772.06,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 772.06,
        "plannerMs": 0.14,
        "assignmentMs": 720.04
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.1253749999887077,
          "buildScoredTablePlansMs": 0.1253749999887077,
          "enumerateCombinationsMs": 0.08241600000474136,
          "sortingMs": 0.007874999995692633,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 25.048083000001498,
          "futureBookingsConsidered": 10,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:53.851Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "71390590-accd-495a-9954-a2a5f1a27e92",
      "partySize": 7,
      "window": {
        "start": "2025-10-31T12:45:00Z",
        "end": "2025-10-31T14:15:00Z"
      },
      "selected": {
        "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
        "tableNumbers": ["PT-08"],
        "totalCapacity": 8,
        "tableCount": 1,
        "slack": 1,
        "score": 14.8326,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 7.332599999999999,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 14.8326
        }
      },
      "topCandidates": [
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1760.49,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1760.49,
        "plannerMs": 0.14,
        "assignmentMs": 1058.97
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 5,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 7,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 1,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 5,
          "accepted": 5
        },
        "performance": {
          "totalDurationMs": 0.09204200000385754,
          "buildScoredTablePlansMs": 0.09204200000385754,
          "enumerateCombinationsMs": 0.05724999999802094,
          "sortingMs": 0.004583000001730397,
          "inputSize": {
            "tableCount": 11,
            "partySize": 7,
            "validTablesCount": 7,
            "singleTableCandidatesCount": 5
          },
          "iterations": {
            "totalEvaluations": 5,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 5.747250000000349,
          "futureBookingsConsidered": 8,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 11,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 11
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 11,
        "remainingAfterSelection": 10,
        "remainingTables": [
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:55.104Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "b8e2a064-96ef-4bb7-8720-6150a5dfeb06",
      "partySize": 7,
      "window": {
        "start": "2025-10-31T12:45:00Z",
        "end": "2025-10-31T14:15:00Z"
      },
      "selected": {
        "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
        "tableNumbers": ["MD-09"],
        "totalCapacity": 8,
        "tableCount": 1,
        "slack": 1,
        "score": 29.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 22,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 29.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 894.64,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 894.64,
        "plannerMs": 0.05,
        "assignmentMs": 859.18
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 5,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 7,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 1,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 5,
          "accepted": 5
        },
        "performance": {
          "totalDurationMs": 0.04337499999382999,
          "buildScoredTablePlansMs": 0.04337499999382999,
          "enumerateCombinationsMs": 0.023000000001047738,
          "sortingMs": 0.002374999996391125,
          "inputSize": {
            "tableCount": 11,
            "partySize": 7,
            "validTablesCount": 7,
            "singleTableCandidatesCount": 5
          },
          "iterations": {
            "totalEvaluations": 5,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 6.19054199999664,
          "futureBookingsConsidered": 8,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 11,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 11
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 11,
        "remainingAfterSelection": 10,
        "remainingTables": [
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:57.100Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "1ec9867b-a098-4359-88a9-46642103b30e",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T13:00:00Z",
        "end": "2025-10-31T14:20:00Z"
      },
      "selected": {
        "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
        "tableNumbers": ["BA-04"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 11,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 11,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 11
        }
      },
      "topCandidates": [
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1357.94,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1357.94,
        "plannerMs": 0.14,
        "assignmentMs": 655.84
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.13620799999625888,
          "buildScoredTablePlansMs": 0.13620799999625888,
          "enumerateCombinationsMs": 0.09599999999045394,
          "sortingMs": 0.006041000000550412,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 17.432791999992332,
          "futureBookingsConsidered": 5,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:58.204Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "19d7c54c-4527-4f7a-b88c-c9e965151a32",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T13:00:00Z",
        "end": "2025-10-31T14:20:00Z"
      },
      "selected": {
        "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
        "tableNumbers": ["BA-05"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 11,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 11,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 11
        }
      },
      "topCandidates": [
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 700.18,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 700.18,
        "plannerMs": 0.12,
        "assignmentMs": 670.55
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.11795899999560788,
          "buildScoredTablePlansMs": 0.11795899999560788,
          "enumerateCombinationsMs": 0.07891700000618584,
          "sortingMs": 0.007499999992433004,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 9.190583000003244,
          "futureBookingsConsidered": 5,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:33:59.920Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "6082c618-9051-4115-8337-0597ac9cd08b",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T13:00:00Z",
        "end": "2025-10-31T14:20:00Z"
      },
      "selected": {
        "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
        "tableNumbers": ["BA-06"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 11,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 11,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 11
        }
      },
      "topCandidates": [
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 687.87,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 687.87,
        "plannerMs": 0.04,
        "assignmentMs": 668.15
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.03900000000430737,
          "buildScoredTablePlansMs": 0.03900000000430737,
          "enumerateCombinationsMs": 0.026792000004206784,
          "sortingMs": 0.002916000012191944,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 9.297667000006186,
          "futureBookingsConsidered": 5,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:01.774Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "6f3904f6-d3be-48de-b3bf-d9176d491c8a",
      "partySize": 7,
      "window": {
        "start": "2025-10-31T13:15:00Z",
        "end": "2025-10-31T14:45:00Z"
      },
      "selected": {
        "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
        "tableNumbers": ["MD-10"],
        "totalCapacity": 8,
        "tableCount": 1,
        "slack": 1,
        "score": 29.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 22,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 29.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1460.14,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1460.14,
        "plannerMs": 0.06,
        "assignmentMs": 735.34
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 5,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 7,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 1,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 5,
          "accepted": 5
        },
        "performance": {
          "totalDurationMs": 0.0508339999942109,
          "buildScoredTablePlansMs": 0.0508339999942109,
          "enumerateCombinationsMs": 0.029959000006783754,
          "sortingMs": 0.007083999997121282,
          "inputSize": {
            "tableCount": 11,
            "partySize": 7,
            "validTablesCount": 7,
            "singleTableCandidatesCount": 5
          },
          "iterations": {
            "totalEvaluations": 5,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 1.308499999999185,
          "futureBookingsConsidered": 2,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 11,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 11
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 11,
        "remainingAfterSelection": 10,
        "remainingTables": [
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:02.670Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "b9c003b8-d95f-4238-86bf-695f2182091d",
      "partySize": 7,
      "window": {
        "start": "2025-10-31T13:15:00Z",
        "end": "2025-10-31T14:45:00Z"
      },
      "selected": null,
      "topCandidates": [
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "skipReason": "Conflicts with existing bookings on tables f395210a-b7e1-4902-86d9-c3767221a96a",
      "rejectionClassification": "strategic",
      "strategicPenalties": {
        "dominant": "slack",
        "slack": 7.5,
        "scarcity": 7.332599999999999,
        "futureConflict": 0
      },
      "durationMs": 371.92,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 371.92,
        "plannerMs": 0.08
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 5,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 7,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 1,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 5,
          "accepted": 5
        },
        "performance": {
          "totalDurationMs": 0.07241700000304263,
          "buildScoredTablePlansMs": 0.07241700000304263,
          "enumerateCombinationsMs": 0.03949999999895226,
          "sortingMs": 0.002917000005254522,
          "inputSize": {
            "tableCount": 11,
            "partySize": 7,
            "validTablesCount": 7,
            "singleTableCandidatesCount": 5
          },
          "iterations": {
            "totalEvaluations": 5,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 1.499958999993396,
          "futureBookingsConsidered": 2,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 11,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 11
        }
      },
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:03.363Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "91f703e7-4885-4207-b0af-cf6c45ac1bdf",
      "partySize": 7,
      "window": {
        "start": "2025-10-31T13:15:00Z",
        "end": "2025-10-31T14:45:00Z"
      },
      "selected": null,
      "topCandidates": [
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 14.8326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 14.8326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 1,
          "score": 29.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 29.5
          }
        }
      ],
      "skipReason": "Conflicts with existing bookings on tables f395210a-b7e1-4902-86d9-c3767221a96a",
      "rejectionClassification": "strategic",
      "strategicPenalties": {
        "dominant": "slack",
        "slack": 7.5,
        "scarcity": 7.332599999999999,
        "futureConflict": 0
      },
      "durationMs": 339.1,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 339.1,
        "plannerMs": 0.06
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 5,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 7,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 1,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 5,
          "accepted": 5
        },
        "performance": {
          "totalDurationMs": 0.05433400000038091,
          "buildScoredTablePlansMs": 0.05433400000038091,
          "enumerateCombinationsMs": 0.029083000001264736,
          "sortingMs": 0.0029169999907026067,
          "inputSize": {
            "tableCount": 11,
            "partySize": 7,
            "validTablesCount": 7,
            "singleTableCandidatesCount": 5
          },
          "iterations": {
            "totalEvaluations": 5,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 1.4920839999977034,
          "futureBookingsConsidered": 2,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 11,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 11
        }
      },
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:06.100Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "a2fba740-a061-4adf-9c56-960f01cc0909",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T13:30:00Z",
        "end": "2025-10-31T14:50:00Z"
      },
      "selected": {
        "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
        "tableNumbers": ["OG-02"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1816.68,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1816.68,
        "plannerMs": 0.1,
        "assignmentMs": 762.42
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.09095900000829715,
          "buildScoredTablePlansMs": 0.09095900000829715,
          "enumerateCombinationsMs": 0.06304199999431148,
          "sortingMs": 0.00425000001268927,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 0,
          "futureBookingsConsidered": 0,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:07.753Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "bc657f82-dd60-48d5-a764-2576b0629219",
      "partySize": 4,
      "window": {
        "start": "2025-10-31T13:30:00Z",
        "end": "2025-10-31T14:50:00Z"
      },
      "selected": {
        "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
        "tableNumbers": ["OG-03"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 20.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 20.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 2,
          "score": 26,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 26
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 729.06,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 729.06,
        "plannerMs": 0.07,
        "assignmentMs": 710.64
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "lunch",
          "source": "restaurant",
          "serviceWindow": "lunch",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 24,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 23,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 24,
          "accepted": 24
        },
        "performance": {
          "totalDurationMs": 0.06783300000824966,
          "buildScoredTablePlansMs": 0.06783300000824966,
          "enumerateCombinationsMs": 0.04370799999742303,
          "sortingMs": 0.004291000004741363,
          "inputSize": {
            "tableCount": 29,
            "partySize": 4,
            "validTablesCount": 24,
            "singleTableCandidatesCount": 24
          },
          "iterations": {
            "totalEvaluations": 24,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 0,
          "futureBookingsConsidered": 0,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 29,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 29
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 29,
        "remainingAfterSelection": 28,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:08.145Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "57071036-ff0e-40ab-93cb-226755a8dead",
      "partySize": 7,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.95,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.95
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:08.486Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "22974844-0de4-453d-9d5a-fdf1414ade19",
      "partySize": 7,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.56,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.56
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:08.865Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "82b8321e-3868-4e74-a7ed-031102083209",
      "partySize": 7,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.06,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.06
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:09.214Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "cccf9ea5-0e39-4ff4-8c58-312440fc6af7",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.9,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.9
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:09.604Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "48d81cb6-7529-47fa-9c9b-ce1f63184538",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.15,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.15
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:09.945Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "8f3e027f-045c-4be2-a503-ef72c23c4d09",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.74,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.74
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:10.296Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "e9c2f802-63ba-4d05-b60c-0b95031c4028",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.84,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.84
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:10.685Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "26b470a4-cc72-4f70-bb24-74e72bfdca05",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.84,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.84
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:11.100Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "ec1e8522-1e81-412b-8265-e622aad4064e",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.7,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.7
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:11.470Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "feb37a38-79a0-41dd-ab10-bff45df81b7e",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.6,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.6
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:11.827Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "e8ba2379-1f95-4c9b-ab71-02eb74f9ee81",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:12.210Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "a76de7db-c424-42d5-95ca-b0ac9294f36a",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.97,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.97
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:12.534Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "8230ff0d-1c06-4049-9f95-a814249f6c19",
      "partySize": 5,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.33,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.33
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:12.871Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "b7e5061f-5093-4f64-bc6e-7a5795912f7e",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.21,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.21
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:13.211Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "48d78e0d-1196-4e2c-b042-c95e9403190e",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.91,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.91
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:13.562Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "181c83af-cee6-4d88-af68-f8088fc83b28",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.15,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.15
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:13.915Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "fd5118cd-0191-4f03-85b4-83b9a63ac134",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.29,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.29
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:14.281Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "fd10ce93-8878-43e5-8fb9-e23e65e41862",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.75,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.75
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:14.614Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "24b50ed9-a77a-4176-8d4a-04241ba8ec37",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.17,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.17
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:14.919Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "890b5ffa-6b18-498d-9b22-ae4c85251997",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 1.37,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1.37
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:15.360Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "6745e3f7-0d4e-4e87-9bd6-d1b401f30f1f",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.52,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.52
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:15.681Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "86e820d7-b860-44de-ab2a-1f069d2d0b70",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.57,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.57
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:16.004Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "31ba4ea8-fd26-42ff-92a9-45f1ba5ebdde",
      "partySize": 2,
      "window": null,
      "selected": null,
      "topCandidates": [],
      "candidates": [],
      "skipReason": "Reservation would overrun lunch service (end 15:00).",
      "rejectionClassification": "hard",
      "strategicPenalties": null,
      "durationMs": 0.66,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 0.66
      },
      "plannerConfig": null,
      "diagnostics": null,
      "availabilitySnapshot": null
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:18.385Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "e4c18409-92b6-4c9f-aa15-d740ec5f57c3",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T18:00:00Z",
        "end": "2025-10-31T19:30:00Z"
      },
      "selected": {
        "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
        "tableNumbers": ["OG-04"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 2034.71,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 2034.71,
        "plannerMs": 1.24,
        "assignmentMs": 648.33
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 1.2206250000017462,
          "buildScoredTablePlansMs": 1.2206250000017462,
          "enumerateCombinationsMs": 1.0314579999976559,
          "sortingMs": 0.14995799999451265,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 18.84504200000083,
          "futureBookingsConsidered": 12,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:19.491Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "71ddb19c-4f4d-4a9c-8e1f-2969b68285dc",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T18:00:00Z",
        "end": "2025-10-31T19:30:00Z"
      },
      "selected": {
        "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
        "tableNumbers": ["OG-05"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 696.35,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 696.35,
        "plannerMs": 0.14,
        "assignmentMs": 651.87
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.13241600000765175,
          "buildScoredTablePlansMs": 0.13241600000765175,
          "enumerateCombinationsMs": 0.06337500001245644,
          "sortingMs": 0.03908299999602605,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 13.881333999990602,
          "futureBookingsConsidered": 12,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:21.300Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "b2fdad23-51b1-4832-a15c-caf43622e5a9",
      "partySize": 3,
      "window": {
        "start": "2025-10-31T18:15:00Z",
        "end": "2025-10-31T19:35:00Z"
      },
      "selected": {
        "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
        "tableNumbers": ["OG-02"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 1,
        "score": 13,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 13
        }
      },
      "topCandidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1442.17,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1442.17,
        "plannerMs": 0.13,
        "assignmentMs": 682.81
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 14,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 18,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 14,
          "accepted": 14
        },
        "performance": {
          "totalDurationMs": 0.12704200000735,
          "buildScoredTablePlansMs": 0.12704200000735,
          "enumerateCombinationsMs": 0.061582999987876974,
          "sortingMs": 0.008332999990670942,
          "inputSize": {
            "tableCount": 24,
            "partySize": 3,
            "validTablesCount": 14,
            "singleTableCandidatesCount": 14
          },
          "iterations": {
            "totalEvaluations": 14,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 15.487666999993962,
          "futureBookingsConsidered": 12,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 24,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 24
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 24,
        "remainingAfterSelection": 23,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:22.991Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "f5c8ac46-afd7-47b6-92e4-e7730a77a434",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T18:30:00Z",
        "end": "2025-10-31T20:00:00Z"
      },
      "selected": {
        "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
        "tableNumbers": ["PT-05"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1320.81,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1320.81,
        "plannerMs": 0.13,
        "assignmentMs": 631.12
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.1254999999946449,
          "buildScoredTablePlansMs": 0.1254999999946449,
          "enumerateCombinationsMs": 0.08012500000768341,
          "sortingMs": 0.0032919999939622357,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 16.206500000000233,
          "futureBookingsConsidered": 10,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:24.072Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "8cd1c5c1-2f80-45de-8b0e-2abce994afad",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T18:30:00Z",
        "end": "2025-10-31T20:00:00Z"
      },
      "selected": {
        "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
        "tableNumbers": ["PT-06"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 701.76,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 701.76,
        "plannerMs": 0.22,
        "assignmentMs": 639.17
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.21604200000001583,
          "buildScoredTablePlansMs": 0.21604200000001583,
          "enumerateCombinationsMs": 0.1517500000045402,
          "sortingMs": 0.004000000000814907,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 15.307916000005207,
          "futureBookingsConsidered": 10,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:25.886Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "0a0c39c8-0322-4b92-84b2-38b49290d8c0",
      "partySize": 3,
      "window": {
        "start": "2025-10-31T18:45:00Z",
        "end": "2025-10-31T20:05:00Z"
      },
      "selected": {
        "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
        "tableNumbers": ["OG-03"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 1,
        "score": 13,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 13
        }
      },
      "topCandidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1422.63,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1422.63,
        "plannerMs": 0.06,
        "assignmentMs": 641.42
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 14,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 18,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 14,
          "accepted": 14
        },
        "performance": {
          "totalDurationMs": 0.05987500000628643,
          "buildScoredTablePlansMs": 0.05987500000628643,
          "enumerateCombinationsMs": 0.03862500000104774,
          "sortingMs": 0.002833999998983927,
          "inputSize": {
            "tableCount": 24,
            "partySize": 3,
            "validTablesCount": 14,
            "singleTableCandidatesCount": 14
          },
          "iterations": {
            "totalEvaluations": 14,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 13.810041999997338,
          "futureBookingsConsidered": 9,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 24,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 24
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 24,
        "remainingAfterSelection": 23,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:27.989Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "2dca2f4e-0872-4169-9a21-414f8b05a31a",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T19:00:00Z",
        "end": "2025-10-31T20:30:00Z"
      },
      "selected": {
        "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
        "tableNumbers": ["BA-07"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 11,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 11,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 11
        }
      },
      "topCandidates": [
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["42431f4a-8587-41c1-bcb3-d8bef6f10a66"],
          "tableNumbers": ["BA-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1362.48,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1362.48,
        "plannerMs": 0.17,
        "assignmentMs": 667.4
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.16191700000490528,
          "buildScoredTablePlansMs": 0.16191700000490528,
          "enumerateCombinationsMs": 0.11687500000698492,
          "sortingMs": 0.0056250000052386895,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 16.940583999996306,
          "futureBookingsConsidered": 7,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:29.045Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "21117d7e-ae1d-4097-aaf4-dd6b6d59fc6f",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T19:00:00Z",
        "end": "2025-10-31T20:30:00Z"
      },
      "selected": {
        "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
        "tableNumbers": ["BA-08"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 11,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 11,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 11
        }
      },
      "topCandidates": [
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["73995838-2913-4dc2-8b4a-48b20aa8d1d7"],
          "tableNumbers": ["BA-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 703.92,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 703.92,
        "plannerMs": 0.1,
        "assignmentMs": 657.18
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.10220900000422262,
          "buildScoredTablePlansMs": 0.10220900000422262,
          "enumerateCombinationsMs": 0.0841249999939464,
          "sortingMs": 0.002666999993380159,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 17.79391600000963,
          "futureBookingsConsidered": 7,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:30.767Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "06321707-8eec-4ec4-83a7-8c22e7585c71",
      "partySize": 3,
      "window": {
        "start": "2025-10-31T19:15:00Z",
        "end": "2025-10-31T20:35:00Z"
      },
      "selected": {
        "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
        "tableNumbers": ["PT-03"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 1,
        "score": 13,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 13
        }
      },
      "topCandidates": [
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["d2fa5533-ac9a-4930-af16-7c97dffa0ffc"],
          "tableNumbers": ["PT-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1361.38,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1361.38,
        "plannerMs": 0.2,
        "assignmentMs": 668.46
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 14,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 18,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 14,
          "accepted": 14
        },
        "performance": {
          "totalDurationMs": 0.18775000001187436,
          "buildScoredTablePlansMs": 0.18775000001187436,
          "enumerateCombinationsMs": 0.11958300000696909,
          "sortingMs": 0.009540999992168508,
          "inputSize": {
            "tableCount": 24,
            "partySize": 3,
            "validTablesCount": 14,
            "singleTableCandidatesCount": 14
          },
          "iterations": {
            "totalEvaluations": 14,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 13.383625000002212,
          "futureBookingsConsidered": 6,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 24,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 24
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 24,
        "remainingAfterSelection": 23,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:32.915Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "96b7ee7b-b148-43b2-bb4c-3216d422404f",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T19:30:00Z",
        "end": "2025-10-31T21:00:00Z"
      },
      "selected": {
        "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
        "tableNumbers": ["OG-04"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["b87c358c-b6de-425c-853e-56693175ebe6"],
          "tableNumbers": ["OG-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1325.07,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1325.07,
        "plannerMs": 0.13,
        "assignmentMs": 655.4
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.12070800000219606,
          "buildScoredTablePlansMs": 0.12070800000219606,
          "enumerateCombinationsMs": 0.09008400001039263,
          "sortingMs": 0.004541999995126389,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 10.13916700000118,
          "futureBookingsConsidered": 4,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:34.790Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "773fa0f5-af75-4151-b208-ae7d39891e8d",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T19:30:00Z",
        "end": "2025-10-31T21:00:00Z"
      },
      "selected": {
        "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
        "tableNumbers": ["OG-05"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["1eac36ca-0b61-44b8-bcd0-1859a65608ab"],
          "tableNumbers": ["OG-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1026.73,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1026.73,
        "plannerMs": 0.15,
        "assignmentMs": 980.71
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.14699999999720603,
          "buildScoredTablePlansMs": 0.14699999999720603,
          "enumerateCombinationsMs": 0.10679200000595301,
          "sortingMs": 0.004958000004990026,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 10.35258399999293,
          "futureBookingsConsidered": 4,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:36.759Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "e51ee99a-fda9-40f4-8d75-845dfb6c8a90",
      "partySize": 3,
      "window": {
        "start": "2025-10-31T19:45:00Z",
        "end": "2025-10-31T21:05:00Z"
      },
      "selected": {
        "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
        "tableNumbers": ["OG-02"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 1,
        "score": 13,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 13
        }
      },
      "topCandidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["1fcc8770-32e2-45c6-ac42-896b9192cf14"],
          "tableNumbers": ["OG-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1312.07,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1312.07,
        "plannerMs": 0.16,
        "assignmentMs": 627.27
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 14,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 18,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 14,
          "accepted": 14
        },
        "performance": {
          "totalDurationMs": 0.15012500000011642,
          "buildScoredTablePlansMs": 0.15012500000011642,
          "enumerateCombinationsMs": 0.08983399999851827,
          "sortingMs": 0.009041999990586191,
          "inputSize": {
            "tableCount": 24,
            "partySize": 3,
            "validTablesCount": 14,
            "singleTableCandidatesCount": 14
          },
          "iterations": {
            "totalEvaluations": 14,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 4.641415999998571,
          "futureBookingsConsidered": 3,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 24,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 24
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 24,
        "remainingAfterSelection": 23,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "252d8999-3413-4131-b7a5-42ff7cc8f159",
            "tableNumber": "OG-03",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:38.735Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "db4d5e98-ba97-4fbf-99a1-88f520de6233",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T20:00:00Z",
        "end": "2025-10-31T21:30:00Z"
      },
      "selected": {
        "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
        "tableNumbers": ["PT-05"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["638ade4f-ff27-4830-98e8-4200e23f03df"],
          "tableNumbers": ["PT-05"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1616.32,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1616.32,
        "plannerMs": 0.29,
        "assignmentMs": 707.03
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.27645800000755116,
          "buildScoredTablePlansMs": 0.27645800000755116,
          "enumerateCombinationsMs": 0.20179200000711717,
          "sortingMs": 0.01145800000813324,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 1.8087499999965075,
          "futureBookingsConsidered": 1,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:40.647Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "ac761a93-0700-4da9-ac6d-46355a24f62d",
      "partySize": 6,
      "window": {
        "start": "2025-10-31T20:00:00Z",
        "end": "2025-10-31T21:30:00Z"
      },
      "selected": {
        "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
        "tableNumbers": ["PT-06"],
        "totalCapacity": 6,
        "tableCount": 1,
        "slack": 0,
        "score": 5.5,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 0,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 5.5
        }
      },
      "topCandidates": [
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["0ab3f905-87e1-4e70-9232-fc578fd5611a"],
          "tableNumbers": ["PT-06"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 5.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 5.5
          }
        },
        {
          "tableIds": ["b1427b0b-8711-45de-a716-2ddf5df1e345"],
          "tableNumbers": ["MD-07"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["c450d8ec-086d-48a1-8177-2308fca8626f"],
          "tableNumbers": ["MD-08"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["76294100-8de1-4483-b906-39533dab0259"],
          "tableNumbers": ["PR-03"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab"],
          "tableNumbers": ["PR-04"],
          "totalCapacity": 6,
          "tableCount": 1,
          "slack": 0,
          "score": 11,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 0,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 11
          }
        },
        {
          "tableIds": ["f395210a-b7e1-4902-86d9-c3767221a96a"],
          "tableNumbers": ["OG-06"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["77fb7a04-7d13-4a32-82e4-fc63327e8df1"],
          "tableNumbers": ["PT-07"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["2d119453-a9e6-44df-9819-f65e91d2faff"],
          "tableNumbers": ["PT-08"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 22.3326,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 7.332599999999999,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 22.3326
          }
        },
        {
          "tableIds": ["b334bfc3-8b55-4eb0-a8fa-fff80605e2cd"],
          "tableNumbers": ["MD-09"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": ["cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c"],
          "tableNumbers": ["MD-10"],
          "totalCapacity": 8,
          "tableCount": 1,
          "slack": 2,
          "score": 37,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 37
          }
        },
        {
          "tableIds": [
            "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "1c8f01b0-a52b-4377-8e42-261cdd1baaca"
          ],
          "tableNumbers": ["PR-01", "PR-02"],
          "totalCapacity": 8,
          "tableCount": 2,
          "slack": 2,
          "score": 51,
          "adjacencyStatus": "connected",
          "scoreBreakdown": {
            "slack_penalty": 15,
            "scarcity_penalty": 22,
            "structural_penalty": 14,
            "demand_multiplier": 1.5,
            "combination_penalty": 6,
            "future_conflict_penalty": 0,
            "total_score": 51
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 729.52,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 729.52,
        "plannerMs": 0.14,
        "assignmentMs": 697.64
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 15,
        "combinationsEnumerated": 1,
        "combinationsAccepted": 1,
        "skipped": {
          "capacity": 0,
          "overage": 17,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 16,
          "accepted": 16
        },
        "performance": {
          "totalDurationMs": 0.1190000000060536,
          "buildScoredTablePlansMs": 0.1190000000060536,
          "enumerateCombinationsMs": 0.09104200001456775,
          "sortingMs": 0.0038750000239815563,
          "inputSize": {
            "tableCount": 21,
            "partySize": 6,
            "validTablesCount": 17,
            "singleTableCandidatesCount": 15
          },
          "iterations": {
            "totalEvaluations": 16,
            "dfsIterations": 1,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 3.2737919999926817,
          "futureBookingsConsidered": 1,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 21,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 21
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 21,
        "remainingAfterSelection": 20,
        "remainingTables": [
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "b334bfc3-8b55-4eb0-a8fa-fff80605e2cd",
            "tableNumber": "MD-09",
            "capacity": 8
          },
          {
            "id": "cd72cdf6-6762-4d63-81f2-5a1a5e92bb0c",
            "tableNumber": "MD-10",
            "capacity": 8
          },
          {
            "id": "f395210a-b7e1-4902-86d9-c3767221a96a",
            "tableNumber": "OG-06",
            "capacity": 8
          },
          {
            "id": "77fb7a04-7d13-4a32-82e4-fc63327e8df1",
            "tableNumber": "PT-07",
            "capacity": 8
          },
          {
            "id": "2d119453-a9e6-44df-9819-f65e91d2faff",
            "tableNumber": "PT-08",
            "capacity": 8
          },
          {
            "id": "0e1e9184-f7ce-423b-9c78-88ce71837ee8",
            "tableNumber": "MD-11",
            "capacity": 10
          },
          {
            "id": "f62d06f1-aa10-4b6e-8de0-eb6279df653c",
            "tableNumber": "MD-12",
            "capacity": 10
          },
          {
            "id": "08c5f163-1d48-43e8-97b2-44fdf9383f15",
            "tableNumber": "PR-05",
            "capacity": 10
          },
          {
            "id": "860a0749-185e-442e-8cd4-ecf088bbac2c",
            "tableNumber": "PR-06",
            "capacity": 10
          }
        ]
      }
    },
    {
      "type": "capacity.selector",
      "timestamp": "2025-10-31T16:34:42.326Z",
      "restaurantId": "f3ef1333-365b-4f84-807b-66c8ee74a391",
      "bookingId": "b19f1a7b-e254-429e-8ffe-bcf11ab436b1",
      "partySize": 3,
      "window": {
        "start": "2025-10-31T20:15:00Z",
        "end": "2025-10-31T21:35:00Z"
      },
      "selected": {
        "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
        "tableNumbers": ["OG-03"],
        "totalCapacity": 4,
        "tableCount": 1,
        "slack": 1,
        "score": 13,
        "adjacencyStatus": "single",
        "scoreBreakdown": {
          "slack_penalty": 7.5,
          "scarcity_penalty": 5.5,
          "structural_penalty": 0,
          "demand_multiplier": 1.5,
          "combination_penalty": 0,
          "future_conflict_penalty": 0,
          "total_score": 13
        }
      },
      "topCandidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "candidates": [
        {
          "tableIds": ["252d8999-3413-4131-b7a5-42ff7cc8f159"],
          "tableNumbers": ["OG-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["3321ad76-c73e-4639-bd27-3d8fa018f67c"],
          "tableNumbers": ["PT-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 13,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 5.5,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 13
          }
        },
        {
          "tableIds": ["48f35f45-4a55-42a1-82e2-a0c2dba3bb45"],
          "tableNumbers": ["BA-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["7225219a-d707-47d8-b98c-86b92f258cba"],
          "tableNumbers": ["BA-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["a854590f-f3cc-43ff-90da-de3cf8a50c29"],
          "tableNumbers": ["BA-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8bb8220a-dd22-4f10-ac02-9f758b9911cc"],
          "tableNumbers": ["BA-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["4f982d6c-090b-49a4-9ac8-8f48608bb893"],
          "tableNumbers": ["MD-03"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["8998040b-9cea-43ee-a2d5-b6370935e103"],
          "tableNumbers": ["MD-04"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["5318aa01-137c-4213-aebe-b8f7accdd680"],
          "tableNumbers": ["MD-05"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["b33f5a5f-3c36-47db-bb1f-6f96a8e1424f"],
          "tableNumbers": ["MD-06"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["54151161-0480-4dc6-8bc1-e7f5ffb1ba0e"],
          "tableNumbers": ["PR-01"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        },
        {
          "tableIds": ["1c8f01b0-a52b-4377-8e42-261cdd1baaca"],
          "tableNumbers": ["PR-02"],
          "totalCapacity": 4,
          "tableCount": 1,
          "slack": 1,
          "score": 18.5,
          "adjacencyStatus": "single",
          "scoreBreakdown": {
            "slack_penalty": 7.5,
            "scarcity_penalty": 11,
            "structural_penalty": 0,
            "demand_multiplier": 1.5,
            "combination_penalty": 0,
            "future_conflict_penalty": 0,
            "total_score": 18.5
          }
        }
      ],
      "skipReason": null,
      "rejectionClassification": null,
      "strategicPenalties": null,
      "durationMs": 1303.54,
      "featureFlags": {
        "selectorScoring": true,
        "opsMetrics": true,
        "plannerTimePruning": false,
        "adjacencyUndirected": true,
        "holdsStrictConflicts": false,
        "allocatorFailHard": false,
        "selectorLookahead": true
      },
      "timing": {
        "totalMs": 1303.54,
        "plannerMs": 0.08,
        "assignmentMs": 650.05
      },
      "plannerConfig": {
        "combinationEnabled": true,
        "requireAdjacency": true,
        "adjacencyRequiredGlobally": true,
        "adjacencyMinPartySize": null,
        "kMax": 3,
        "bucketLimit": 50,
        "evaluationLimit": 500,
        "maxOverage": 2,
        "maxTables": 3,
        "weights": {
          "overage": 5,
          "tableCount": 3,
          "fragmentation": 2,
          "zoneBalance": 4,
          "adjacencyCost": 1,
          "scarcity": 22
        },
        "featureFlags": {
          "plannerTimePruning": false,
          "adjacencyUndirected": true,
          "holdsStrictConflicts": false,
          "allocatorFailHard": false,
          "selectorScoring": true,
          "opsMetrics": true,
          "selectorLookahead": true
        },
        "serviceFallback": {
          "used": false,
          "service": null
        },
        "demandMultiplier": 1.5,
        "demandRule": {
          "label": "dinner",
          "source": "restaurant",
          "serviceWindow": "dinner",
          "days": ["Friday"],
          "start": null,
          "end": null,
          "priority": null
        },
        "lookahead": {
          "enabled": true,
          "windowMinutes": 120,
          "penaltyWeight": 500
        }
      },
      "diagnostics": {
        "singlesConsidered": 14,
        "combinationsEnumerated": 0,
        "combinationsAccepted": 0,
        "skipped": {
          "capacity": 0,
          "overage": 18,
          "adjacency": 0,
          "kmax": 0,
          "zone": 0,
          "limit": 0,
          "bucket": 0,
          "adjacency_frontier": 0,
          "capacity_upper_bound": 0
        },
        "limits": {
          "kMax": 3,
          "maxPlansPerSlack": 50,
          "maxCombinationEvaluations": 500
        },
        "totals": {
          "enumerated": 14,
          "accepted": 14
        },
        "performance": {
          "totalDurationMs": 0.07099999999627471,
          "buildScoredTablePlansMs": 0.07099999999627471,
          "enumerateCombinationsMs": 0.043541999999433756,
          "sortingMs": 0.004458000010345131,
          "inputSize": {
            "tableCount": 24,
            "partySize": 3,
            "validTablesCount": 14,
            "singleTableCandidatesCount": 14
          },
          "iterations": {
            "totalEvaluations": 14,
            "dfsIterations": null,
            "earlyExit": false,
            "earlyExitReason": null
          }
        },
        "lookahead": {
          "enabled": true,
          "evaluationMs": 0,
          "futureBookingsConsidered": 0,
          "penalizedPlans": 0,
          "totalPenalty": 0,
          "windowMinutes": 120,
          "conflicts": []
        },
        "timePruning": {
          "prunedByTime": 0,
          "candidatesAfterTimePrune": 24,
          "pruned_by_time": 0,
          "candidates_after_time_prune": 24
        }
      },
      "availabilitySnapshot": {
        "totalCandidates": 24,
        "remainingAfterSelection": 23,
        "remainingTables": [
          {
            "id": "48f35f45-4a55-42a1-82e2-a0c2dba3bb45",
            "tableNumber": "BA-03",
            "capacity": 4
          },
          {
            "id": "7225219a-d707-47d8-b98c-86b92f258cba",
            "tableNumber": "BA-04",
            "capacity": 4
          },
          {
            "id": "a854590f-f3cc-43ff-90da-de3cf8a50c29",
            "tableNumber": "BA-05",
            "capacity": 4
          },
          {
            "id": "8bb8220a-dd22-4f10-ac02-9f758b9911cc",
            "tableNumber": "BA-06",
            "capacity": 4
          },
          {
            "id": "4f982d6c-090b-49a4-9ac8-8f48608bb893",
            "tableNumber": "MD-03",
            "capacity": 4
          },
          {
            "id": "8998040b-9cea-43ee-a2d5-b6370935e103",
            "tableNumber": "MD-04",
            "capacity": 4
          },
          {
            "id": "5318aa01-137c-4213-aebe-b8f7accdd680",
            "tableNumber": "MD-05",
            "capacity": 4
          },
          {
            "id": "b33f5a5f-3c36-47db-bb1f-6f96a8e1424f",
            "tableNumber": "MD-06",
            "capacity": 4
          },
          {
            "id": "1fcc8770-32e2-45c6-ac42-896b9192cf14",
            "tableNumber": "OG-02",
            "capacity": 4
          },
          {
            "id": "54151161-0480-4dc6-8bc1-e7f5ffb1ba0e",
            "tableNumber": "PR-01",
            "capacity": 4
          },
          {
            "id": "1c8f01b0-a52b-4377-8e42-261cdd1baaca",
            "tableNumber": "PR-02",
            "capacity": 4
          },
          {
            "id": "d2fa5533-ac9a-4930-af16-7c97dffa0ffc",
            "tableNumber": "PT-03",
            "capacity": 4
          },
          {
            "id": "3321ad76-c73e-4639-bd27-3d8fa018f67c",
            "tableNumber": "PT-04",
            "capacity": 4
          },
          {
            "id": "42431f4a-8587-41c1-bcb3-d8bef6f10a66",
            "tableNumber": "BA-07",
            "capacity": 6
          },
          {
            "id": "73995838-2913-4dc2-8b4a-48b20aa8d1d7",
            "tableNumber": "BA-08",
            "capacity": 6
          },
          {
            "id": "b1427b0b-8711-45de-a716-2ddf5df1e345",
            "tableNumber": "MD-07",
            "capacity": 6
          },
          {
            "id": "c450d8ec-086d-48a1-8177-2308fca8626f",
            "tableNumber": "MD-08",
            "capacity": 6
          },
          {
            "id": "b87c358c-b6de-425c-853e-56693175ebe6",
            "tableNumber": "OG-04",
            "capacity": 6
          },
          {
            "id": "1eac36ca-0b61-44b8-bcd0-1859a65608ab",
            "tableNumber": "OG-05",
            "capacity": 6
          },
          {
            "id": "76294100-8de1-4483-b906-39533dab0259",
            "tableNumber": "PR-03",
            "capacity": 6
          },
          {
            "id": "29dc1f54-5e40-4ffb-8a10-24dcfe5e00ab",
            "tableNumber": "PR-04",
            "capacity": 6
          },
          {
            "id": "638ade4f-ff27-4830-98e8-4200e23f03df",
            "tableNumber": "PT-05",
            "capacity": 6
          },
          {
            "id": "0ab3f905-87e1-4e70-9232-fc578fd5611a",
            "tableNumber": "PT-06",
            "capacity": 6
          }
        ]
      }
    }
  ]
}
