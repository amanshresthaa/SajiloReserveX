                            Table "public.booking_confirmation_results"
      Column       |           Type           | Collation | Nullable |           Default            
-------------------+--------------------------+-----------+----------+------------------------------
 booking_id        | uuid                     |           | not null | 
 hold_id           | uuid                     |           | not null | 
 restaurant_id     | uuid                     |           | not null | 
 idempotency_key   | text                     |           | not null | 
 table_ids         | uuid[]                   |           | not null | 
 assignment_window | tstzrange                |           | not null | 
 created_at        | timestamp with time zone |           | not null | timezone('utc'::text, now())
 actor_id          | uuid                     |           |          | 
 metadata          | jsonb                    |           | not null | '{}'::jsonb
Indexes:
    "booking_confirmation_results_pkey" PRIMARY KEY, btree (booking_id, idempotency_key)
    "booking_confirmation_results_created_idx" btree (created_at DESC)
    "booking_confirmation_results_hold_id_key" UNIQUE CONSTRAINT, btree (hold_id)
    "booking_confirmation_results_hold_idx" btree (hold_id)
Foreign-key constraints:
    "booking_confirmation_results_booking_id_fkey" FOREIGN KEY (booking_id) REFERENCES bookings(id) ON DELETE CASCADE
    "booking_confirmation_results_restaurant_id_fkey" FOREIGN KEY (restaurant_id) REFERENCES restaurants(id) ON DELETE CASCADE
Policies:
    POLICY "Tenant service role can manage booking confirmation results"
      TO service_role
      USING ((restaurant_id = require_restaurant_context()))
      WITH CHECK ((restaurant_id = require_restaurant_context()))

