
> ship-fast-code@0.1.0 test /Users/amankumarshrestha/Downloads/SajiloReserveX
> vitest run --config reserve/vitest.config.ts


 RUN  v3.2.4 /Users/amankumarshrestha/Downloads/SajiloReserveX/reserve

stderr | tests/features/restaurant-browser.test.tsx > <RestaurantBrowser /> > tracks analytics when a restaurant CTA is clicked
Not implemented: navigation to another Document

 ‚úì tests/features/restaurant-browser.test.tsx (5 tests) 533ms
 ‚úì tests/unit/CancelBookingDialog.test.tsx (2 tests) 506ms
   ‚úì CancelBookingDialog > calls cancel mutation when confirming  376ms
 ‚úì tests/unit/CustomerNavbar.test.tsx (2 tests) 901ms
   ‚úì <CustomerNavbar /> > renders sign-in button for anonymous visitors  313ms
   ‚úì <CustomerNavbar /> > shows avatar menu and triggers sign out for authenticated users  586ms
 ‚úì tests/unit/EditBookingDialog.test.tsx (5 tests) 1230ms
   ‚úì EditBookingDialog > submits derived end time when editing details  447ms
stderr | tests/profile/ProfileManageForm.test.tsx > ProfileManageForm > shows warning message when idempotency key conflicts
[profile/manage] update failed HttpError: This update was already applied with different details. Refresh and try again with a new request.
    at [90m/Users/amankumarshrestha/Downloads/SajiloReserveX/[39mreserve/tests/profile/ProfileManageForm.test.tsx:215:22
    at [90mfile:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
    at runTest [90m(file:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
    at runSuite [90m(file:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runFiles [90m(file:///Users/amankumarshrestha/Downloads/SajiloReserveX/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1787:3[90m)[39m {
  status: [33m409[39m,
  code: [32m'IDEMPOTENCY_KEY_CONFLICT'[39m,
  details: [90mundefined[39m,
  [cause]: [90mundefined[39m
}

 ‚úì tests/profile/ProfileManageForm.test.tsx (8 tests) 1462ms
   ‚úì ProfileManageForm > shows validation error and focuses name when too short  345ms
   ‚úì ProfileManageForm > submits phone changes  335ms
 ‚úì features/reservations/wizard/ui/__tests__/BookingWizard.offline.test.tsx (1 test) 638ms
   ‚úì BookingWizard offline banner > shows offline banner, disables actions, and tracks analytics  636ms
 ‚úì features/reservations/wizard/ui/steps/plan-step/components/__tests__/OccasionPicker.responsive.test.tsx (2 tests) 356ms
stdout | features/reservations/wizard/ui/steps/plan-step/__tests__/PlanStepForm.test.tsx > <PlanStepForm /> > disables time selection and surfaces an alert when the schedule is closed
[analytics] selection.blocked.closed { restaurantSlug: [32m'white-horse-pub-waterbeach'[39m, date: [32m'2025-05-11'[39m }

 ‚úì app/__tests__/router.test.tsx (2 tests) 261ms
 ‚úì tests/features/booking-state-machine/ScheduleAwareTimestampPicker.test.tsx (8 tests) 1893ms
   ‚úì <ScheduleAwareTimestampPicker /> manual entry > clears the time and shows loading feedback when the date changes  434ms
   ‚úì <ScheduleAwareTimestampPicker /> manual entry > surfaces closed-date messaging in the slot region and blocks selection  445ms
 ‚úì features/reservations/wizard/ui/steps/plan-step/components/__tests__/Calendar24Field.test.tsx (7 tests) 2401ms
   ‚úì <Calendar24Field /> > invokes onSelect when a date is chosen from the calendar  927ms
   ‚úì <Calendar24Field /> > prevents selection for dates flagged by the matcher  434ms
   ‚úì <Calendar24Field /> > notifies visible month changes  457ms
   ‚úì <Calendar24Field /> > treats loading dates as disabled until schedules resolve  415ms
 ‚ùØ tests/features/wizard/plan-step-form.analytics.test.tsx (4 tests | 4 failed) 48ms
   √ó usePlanStepForm analytics > tracks select_date when choosing a date 32ms
     ‚Üí useWizardContext must be used within WizardProvider
   √ó usePlanStepForm analytics > tracks select_party when changing party size 8ms
     ‚Üí useWizardContext must be used within WizardProvider
   √ó usePlanStepForm analytics > exposes time slot suggestions for a selected date 5ms
     ‚Üí useWizardContext must be used within WizardProvider
   √ó usePlanStepForm analytics > tracks changeOccasion when occasion picker toggled 2ms
     ‚Üí useWizardContext must be used within WizardProvider
 ‚úì features/reservations/wizard/ui/steps/plan-step/__tests__/PlanStepForm.test.tsx (8 tests) 2432ms
   ‚úì <PlanStepForm /> > updates party size and occasion via handlers  1190ms
   ‚úì <PlanStepForm /> > disables dates included in the initial calendar mask before schedules load  533ms
 ‚úì features/reservations/wizard/ui/steps/plan-step/components/__tests__/TimeSlotGrid.test.tsx (3 tests) 355ms
 ‚ùØ tests/features/wizard/details-step.analytics.test.tsx (1 test | 1 failed) 37ms
   √ó <DetailsStep /> analytics > uses dependency-provided analytics tracker on submit 36ms
     ‚Üí useWizardContext must be used within WizardProvider
 ‚úì features/reservations/wizard/ui/__tests__/WizardProgress.test.tsx (1 test) 213ms
 ‚úì features/reservations/wizard/services/__tests__/useTimeSlots.test.tsx (2 tests) 122ms
 ‚úì tests/hooks/useOnlineStatus.test.tsx (2 tests) 75ms
stdout | tests/unit/BookingsListMobile.test.tsx > BookingsListMobile > shows empty state when no bookings and not loading
[analytics] dashboard_empty_state_viewed {}

 ‚ùØ tests/unit/BookingsListMobile.test.tsx (4 tests | 2 failed) 969ms
   √ó BookingsListMobile > renders booking summary and triggers actions 624ms
     ‚Üí Unable to find an accessible element with the role "button" and name `/cancel booking at test bistro/i`

Here are the accessible roles:

  table:

  Name "Bookings list (mobile view)":
  [36m<div[39m
    [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
    [33mclass[39m=[32m"space-y-4"[39m
    [33mrole[39m=[32m"table"[39m
  [36m/>[39m

  --------------------------------------------------
  row:

  Name "Test Bistro":
  [36m<div[39m
    [33maria-describedby[39m=[32m"_r_0_-booking-1-details"[39m
    [33maria-labelledby[39m=[32m"_r_0_-booking-1-heading"[39m
    [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
    [33mdata-testid[39m=[32m"mobile-booking-row"[39m
    [33mrole[39m=[32m"row"[39m
  [36m/>[39m

  --------------------------------------------------
  cell:

  Name "Date(2050-01-15) Time(18:00) Booking status: Confirmed":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Party Party of 4 Notes Birthday dinner":
  [36m<dl[39m
    [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
    [33mid[39m=[32m"_r_0_-booking-1-details"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Edit booking Cancel":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
  [36m/>[39m

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
  [36m/>[39m

  --------------------------------------------------
  rowheader:

  Name "Test Bistro":
  [36m<div[39m
    [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
    [33mid[39m=[32m"_r_0_-booking-1-heading"[39m
    [33mrole[39m=[32m"rowheader"[39m
  [36m/>[39m

  --------------------------------------------------
  term:

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium"[39m
  [36m/>[39m

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium text-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  definition:

  Name "":
  [36m<dd />[39m

  Name "":
  [36m<dd[39m
    [33mclass[39m=[32m"text-muted-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "Edit booking at Test Bistro":
  [36m<button[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Edit booking at Test Bistro"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Cancel":
  [36m<button[39m
    [33maria-description[39m=[32m"Cancel booking at Test Bistro"[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Cancel"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
      [33mclass[39m=[32m"space-y-4"[39m
      [33mrole[39m=[32m"table"[39m
    [36m>[39m
      [36m<div[39m
        [33maria-describedby[39m=[32m"_r_0_-booking-1-details"[39m
        [33maria-labelledby[39m=[32m"_r_0_-booking-1-heading"[39m
        [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
        [33mdata-testid[39m=[32m"mobile-booking-row"[39m
        [33mrole[39m=[32m"row"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
            [36m>[39m
              [0mDate(2050-01-15)[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
            [36m>[39m
              [0mTime(18:00)[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"Booking status: Confirmed"[39m
            [33mclass[39m=[32m"rounded-md border transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover:bg-secondary/80 relative flex items-center gap-2 border-transparent bg-muted/60 px-3 py-1 text-xs font-medium capitalize text-foreground before:block before:h-2 before:w-2 before:rounded-full before:bg-[color:var(--status-accent)]"[39m
            [33mstyle[39m=[32m"--status-accent: #047857;"[39m
          [36m>[39m
            [0mConfirmed[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
          [33mid[39m=[32m"_r_0_-booking-1-heading"[39m
          [33mrole[39m=[32m"rowheader"[39m
        [36m>[39m
          [36m<div>[39m
            [0mTest Bistro[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<dl[39m
          [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
          [33mid[39m=[32m"_r_0_-booking-1-details"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between text-foreground"[39m
          [36m>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium"[39m
            [36m>[39m
              [0mParty[0m
            [36m</dt>[39m
            [36m<dd>[39m
              [0mParty of [0m
              [0m4[0m
            [36m</dd>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium text-foreground"[39m
            [36m>[39m
              [0mNotes[0m
            [36m</dt>[39m
            [36m<dd[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mBirthday dinner[0m
            [36m</dd>[39m
          [36m</div>[39m
        [36m</dl>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Edit booking at Test Bistro"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mEdit booking[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-description[39m=[32m"Cancel booking at Test Bistro"[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Cancel"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mCancel[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   ‚úì BookingsListMobile > shows skeletons while loading 4ms
   ‚úì BookingsListMobile > shows empty state when no bookings and not loading 4ms
   √ó BookingsListMobile > renders ops variant with customer context and fallback notes 335ms
     ‚Üí Unable to find an accessible element with the role "button" and name `/cancel booking for priya sharma/i`

Here are the accessible roles:

  table:

  Name "Bookings list (mobile view)":
  [36m<div[39m
    [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
    [33mclass[39m=[32m"space-y-4"[39m
    [33mrole[39m=[32m"table"[39m
  [36m/>[39m

  --------------------------------------------------
  row:

  Name "Priya Sharma priya@example.com":
  [36m<div[39m
    [33maria-describedby[39m=[32m"_r_3_-booking-ops-details"[39m
    [33maria-labelledby[39m=[32m"_r_3_-booking-ops-heading"[39m
    [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
    [33mdata-testid[39m=[32m"mobile-booking-row"[39m
    [33mrole[39m=[32m"row"[39m
  [36m/>[39m

  --------------------------------------------------
  cell:

  Name "Date(2050-01-20) Time(17:30) Booking status: Pending":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Party Party of 2 Restaurant Ops Bistro Notes ‚Äî":
  [36m<dl[39m
    [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
    [33mid[39m=[32m"_r_3_-booking-ops-details"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Edit booking Cancel":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
  [36m/>[39m

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
  [36m/>[39m

  Name "priya@example.com":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm font-normal text-muted-foreground"[39m
    [33mtitle[39m=[32m"priya@example.com"[39m
  [36m/>[39m

  --------------------------------------------------
  rowheader:

  Name "Priya Sharma priya@example.com":
  [36m<div[39m
    [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
    [33mid[39m=[32m"_r_3_-booking-ops-heading"[39m
    [33mrole[39m=[32m"rowheader"[39m
  [36m/>[39m

  --------------------------------------------------
  term:

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium"[39m
  [36m/>[39m

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium"[39m
  [36m/>[39m

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium text-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  definition:

  Name "":
  [36m<dd />[39m

  Name "":
  [36m<dd[39m
    [33mclass[39m=[32m"text-right text-muted-foreground"[39m
  [36m/>[39m

  Name "":
  [36m<dd[39m
    [33mclass[39m=[32m"text-muted-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "Edit booking for Priya Sharma":
  [36m<button[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Edit booking for Priya Sharma"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Cancel":
  [36m<button[39m
    [33maria-description[39m=[32m"Cancel booking for Priya Sharma"[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Cancel"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
      [33mclass[39m=[32m"space-y-4"[39m
      [33mrole[39m=[32m"table"[39m
    [36m>[39m
      [36m<div[39m
        [33maria-describedby[39m=[32m"_r_3_-booking-ops-details"[39m
        [33maria-labelledby[39m=[32m"_r_3_-booking-ops-heading"[39m
        [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
        [33mdata-testid[39m=[32m"mobile-booking-row"[39m
        [33mrole[39m=[32m"row"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
            [36m>[39m
              [0mDate(2050-01-20)[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
            [36m>[39m
              [0mTime(17:30)[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"Booking status: Pending"[39m
            [33mclass[39m=[32m"rounded-md border transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover:bg-secondary/80 relative flex items-center gap-2 border-transparent bg-muted/60 px-3 py-1 text-xs font-medium capitalize text-foreground before:block before:h-2 before:w-2 before:rounded-full before:bg-[color:var(--status-accent)]"[39m
            [33mstyle[39m=[32m"--status-accent: #b45309;"[39m
          [36m>[39m
            [0mPending[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
          [33mid[39m=[32m"_r_3_-booking-ops-heading"[39m
          [33mrole[39m=[32m"rowheader"[39m
        [36m>[39m
          [36m<div>[39m
            [0mPriya Sharma[0m
          [36m</div>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm font-normal text-muted-foreground"[39m
            [33mtitle[39m=[32m"priya@example.com"[39m
          [36m>[39m
            [0mpriya@example.com[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<dl[39m
          [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
          [33mid[39m=[32m"_r_3_-booking-ops-details"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between text-foreground"[39m
          [36m>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium"[39m
            [36m>[39m
              [0mParty[0m
            [36m</dt>[39m
            [36m<dd>[39m
              [0mParty of [0m
              [0m2[0m
            [36m</dd>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between text-foreground"[39m
          [36m>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium"[39m
            [36m>[39m
              [0mRestaurant[0m
            [36m</dt>[39m
            [36m<dd[39m
              [33mclass[39m=[32m"text-right text-muted-foreground"[39m
            [36m>[39m
              [0mOps Bistro[0m
            [36m</dd>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium text-foreground"[39m
            [36m>[39m
              [0mNotes[0m
            [36m</dt>[39m
            [36m<dd[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0m‚Äî[0m
            [36m</dd>[39m
          [36m</div>[39m
        [36m</dl>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Edit booking for Priya Sharma"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mEdit booking[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-description[39m=[32m"Cancel booking for Priya Sharma"[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Cancel"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mCancel[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ tests/features/wizard/review-step.analytics.test.tsx (1 test | 1 failed) 45ms
   √ó <ReviewStep /> analytics > tracks confirm_open with dependency-provided analytics 43ms
     ‚Üí useWizardContext must be used within WizardProvider
 ‚ùØ shared/api/__tests__/client.test.ts (3 tests | 1 failed) 118ms
   √ó apiClient > prefixes requests with the configured base URL 86ms
     ‚Üí expected "spy" to be called with arguments: [ ‚Ä¶(2) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "https://api.example.com/bookings",[22m
[2m    {[22m
[2m      "body": undefined,[22m
[2m      "credentials": "include",[22m
[32m-     "headers": {[90m
[32m-       "Content-Type": "application/json",[90m
[32m-     },[90m
[31m+     "headers": Headers {},[90m
[2m      "method": "GET",[22m
[32m-     "signal": Any<AbortSignal>,[90m
[31m+     "signal": AbortSignal {},[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
   ‚úì apiClient > normalizes error responses 22ms
   ‚úì apiClient > aborts requests that exceed the configured timeout 9ms
stdout | tests/unit/analytics.emit.test.ts > analytics emitter > queues events and flushes via fetch on timer
[analytics] booking_edit_submitted { bookingId: [32m'booking-42'[39m }

stdout | tests/unit/analytics.emit.test.ts > analytics emitter > queues events and flushes via fetch on timer
[analytics] flushing events timer [
  {
    name: [32m'booking_edit_submitted'[39m,
    ts: [32m'2025-11-12T22:38:27.236Z'[39m,
    user: { anonId: [32m'anon-123'[39m, emailHash: [32m'deadbeef'[39m },
    context: { route: [32m'/my-bookings'[39m, version: [32m'web-dev'[39m },
    props: { bookingId: [32m'booking-42'[39m }
  }
]

stdout | tests/unit/analytics.emit.test.ts > analytics emitter > prefers sendBeacon when available
[analytics] booking_cancelled { bookingId: [32m'booking-99'[39m }

stdout | tests/unit/analytics.emit.test.ts > analytics emitter > prefers sendBeacon when available
[analytics] flushing events manual [
  {
    name: [32m'booking_cancelled'[39m,
    ts: [32m'2025-11-12T22:38:27.251Z'[39m,
    user: { anonId: [32m'anon-123'[39m, emailHash: [32m'deadbeef'[39m },
    context: { route: [32m'/my-bookings'[39m, version: [32m'web-dev'[39m },
    props: { bookingId: [32m'booking-99'[39m }
  }
]

stdout | tests/unit/analytics.emit.test.ts > analytics emitter > reuses resolved identity across emits
[analytics] booking_cancelled { bookingId: [32m'booking-123'[39m }

stdout | tests/unit/analytics.emit.test.ts > analytics emitter > reuses resolved identity across emits
[analytics] filter_changed {}

stdout | tests/unit/analytics.emit.test.ts > analytics emitter > reuses resolved identity across emits
[analytics] flushing events manual [
  {
    name: [32m'booking_cancelled'[39m,
    ts: [32m'2025-11-12T22:38:27.255Z'[39m,
    user: { anonId: [32m'anon-123'[39m, emailHash: [32m'deadbeef'[39m },
    context: { route: [32m'/my-bookings'[39m, version: [32m'web-dev'[39m },
    props: { bookingId: [32m'booking-123'[39m }
  },
  {
    name: [32m'filter_changed'[39m,
    ts: [32m'2025-11-12T22:38:27.255Z'[39m,
    user: { anonId: [32m'anon-123'[39m, emailHash: [32m'deadbeef'[39m },
    context: { route: [32m'/my-bookings'[39m, version: [32m'web-dev'[39m },
    props: {}
  }
]

 ‚úì tests/unit/analytics.emit.test.ts (3 tests) 28ms
 ‚ùØ features/reservations/wizard/ui/__tests__/BookingWizard.plan-review.test.tsx (3 tests | 1 failed) 3578ms
   √ó BookingWizard plan to review flow > persists selections through review and triggers confirmation mutation 1408ms
     ‚Üí Unable to find an element with the text: /Test Kitchen/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<main[39m
      [33mclass[39m=[32m"min-h-screen w-full bg-muted/[0.15] px-4 pb-20 pt-6 font-sans text-foreground transition-[padding-bottom] duration-200 sm:pt-12 md:px-6 lg:px-10"[39m
      [33mstyle[39m=[32m"padding-bottom: calc((0px + 1.5rem) + env(0px * , * safe-area-inset-bottom));"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"mx-auto flex w-full max-w-5xl flex-col gap-10 sm:gap-12"[39m
      [36m>[39m
        [36m<span[39m
          [33maria-hidden[39m=[32m"true"[39m
          [33mclass[39m=[32m"block h-px w-full"[39m
        [36m/>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"polite"[39m
          [33mclass[39m=[32m"sr-only"[39m
        [36m>[39m
          [0mStep 3 of 4. Dinner. 2 guests, 18:15, May 20 2025[0m
        [36m</div>[39m
        [36m<section[39m
          [33maria-labelledby[39m=[32m"_r_e_"[39m
          [33mclass[39m=[32m"mx-auto w-full max-w-4xl lg:max-w-5xl"[39m
          [33mdata-state[39m=[32m"active"[39m
          [33mdata-step[39m=[32m"3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring/60"[39m
            [33mtabindex[39m=[32m"-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col p-6 space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33maria-level[39m=[32m"2"[39m
                  [33mclass[39m=[32m"font-semibold tracking-tight text-[clamp(1.65rem,1.35rem+0.6vw,2.1rem)] text-foreground"[39m
                  [33mid[39m=[32m"_r_e_"[39m
                  [33mrole[39m=[32m"heading"[39m
                [36m>[39m
                  [0mReview and confirm[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-base text-muted-foreground"[39m
              [36m>[39m
                [0mDouble-check the details below. You can edit any section before confirming.[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 pt-0 sm:space-y-8 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<p[39m
                  [33maria-live[39m=[32m"polite"[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mReview details for 2 at 18:15 on May 20 2025. Press confirm to finalise your reservation.[0m
                [36m</p>[39m
                [36m<dl[39m
                  [33mclass[39m=[32m"grid gap-4 rounded-2xl border border-border bg-card p-5 shadow-sm sm:grid-cols-2 lg:grid-cols-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mSummary[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
                    [36m>[39m
                      [0m2 at 18:15 on May 20 2025[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mVenue[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mWhite Horse Pub (Waterbeach)[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mParty size[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0m2[0m
                      [0m [0m
                      [0mguests[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mFull name[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mAda Lovelace[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mEmail[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mada@example.com[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mPhone[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0m07123 45678...
   ‚úì BookingWizard plan to review flow > returns to review step and surfaces error when booking submission fails  1180ms
   ‚úì BookingWizard plan to review flow > shows booking-in-past guidance when API rejects due to past start time  987ms
 ‚úì shared/config/__tests__/reservations.test.ts (3 tests) 39ms
stdout | tests/unit/api-v1-alias.test.ts > API v1 alias routes > POST /api/v1/events forwards to existing handler
[events] [
  {
    name: [32m'test'[39m,
    ts: [32m'2025-11-12T22:38:28.032Z'[39m,
    user: { anonId: [32m'x'[39m },
    context: { route: [32m'/'[39m, version: [32m'v'[39m },
    props: {}
  }
]

 ‚úì tests/unit/api-v1-alias.test.ts (2 tests) 43ms
 ‚úì tests/unit/api-events.route.test.ts (2 tests) 48ms
 ‚úì tests/unit/useBookingsTableState.test.tsx (4 tests) 14ms
 ‚úì shared/schedule/__tests__/availability.test.ts (7 tests) 92ms
 ‚úì features/reservations/wizard/di/__tests__/context.test.tsx (2 tests) 15ms
 ‚úì shared/formatting/__tests__/booking.test.ts (4 tests) 79ms
 ‚úì features/reservations/wizard/model/__tests__/store.test.ts (5 tests) 35ms
 ‚úì features/reservations/wizard/api/__tests__/useCreateReservation.test.tsx (1 test) 41ms
 ‚úì tests/unit/reservation-share.test.ts (3 tests) 16ms
 ‚úì tests/profile/useUpdateProfile.test.tsx (1 test) 36ms
 ‚úì tests/profile/api.test.ts (4 tests) 36ms
 ‚úì features/reservations/wizard/model/__tests__/transformers.test.ts (4 tests) 4ms
stderr | tests/unit/my-bookings-api.test.ts
[feature-flags][safety] {
  message: [32m'holds.strictConflicts disabled while holds.enabled=true'[39m,
  environment: [32m'test'[39m,
  strictConflicts: [33mfalse[39m
}

 ‚úì tests/unit/fetchJson.test.ts (4 tests) 38ms
 ‚úì tests/server/ops/customers.test.ts (4 tests) 20ms
 ‚úì tests/profile/ensureProfileRow.hydration.test.ts (2 tests) 4ms
 ‚úì tests/server/getReservation.test.ts (4 tests) 8ms
 ‚úì features/reservations/wizard/model/__tests__/schemas.test.ts (6 tests) 9ms
 ‚úì tests/unit/reservation.adapter.test.ts (1 test) 6ms
 ‚úì shared/time/__tests__/reservations.test.ts (3 tests) 2ms
 ‚úì tests/unit/my-bookings-api.test.ts (2 tests) 24ms
 ‚úì tests/profile/schema.test.ts (5 tests) 46ms
 ‚úì shared/time/__tests__/time.test.ts (4 tests) 5ms
 ‚úì shared/error/__tests__/error.test.ts (8 tests) 6ms
 ‚úì shared/api/__tests__/queryKeys.test.ts (3 tests) 2ms
 ‚úì tests/server/bookings/history.test.ts (3 tests) 6ms
 ‚úì shared/validation/__tests__/contact.test.ts (2 tests) 1ms
 ‚úì features/reservations/wizard/services/__tests__/timeSlots.test.ts (3 tests) 2ms

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Suites 1 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  tests/unit/MyBookingsClient.analytics.test.tsx [ tests/unit/MyBookingsClient.analytics.test.tsx ]
Error: Failed to resolve import "@/app/(authed)/my-bookings/MyBookingsClient" from "reserve/tests/unit/MyBookingsClient.analytics.test.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/amankumarshrestha/Downloads/SajiloReserveX/reserve/tests/unit/MyBookingsClient.analytics.test.tsx:5:0
  7  |  const __vi_import_0__ = await import("react/jsx-dev-runtime");
  8  |  const __vi_import_1__ = await import("@testing-library/react");
  9  |  const __vi_import_2__ = await import("@/app/(authed)/my-bookings/MyBookingsClient");
     |                                       ^
  10 |  const __vi_import_3__ = await import("@/components/dashboard/BookingsTable");
  11 |  const __vi_import_4__ = await import("@/hooks/useBookings");
 ‚ùØ TransformPluginContext._formatLog ../node_modules/.pnpm/vite@7.1.7_@types+node@24.9.1_jiti@2.6.0_lightningcss@1.30.1_tsx@4.20.6_yaml@2.8.1/node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:31185:43
 ‚ùØ TransformPluginContext.error ../node_modules/.pnpm/vite@7.1.7_@types+node@24.9.1_jiti@2.6.0_lightningcss@1.30.1_tsx@4.20.6_yaml@2.8.1/node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:31182:14
 ‚ùØ normalizeUrl ../node_modules/.pnpm/vite@7.1.7_@types+node@24.9.1_jiti@2.6.0_lightningcss@1.30.1_tsx@4.20.6_yaml@2.8.1/node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:29665:18
 ‚ùØ ../node_modules/.pnpm/vite@7.1.7_@types+node@24.9.1_jiti@2.6.0_lightningcss@1.30.1_tsx@4.20.6_yaml@2.8.1/node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:29723:32
 ‚ùØ TransformPluginContext.transform ../node_modules/.pnpm/vite@7.1.7_@types+node@24.9.1_jiti@2.6.0_lightningcss@1.30.1_tsx@4.20.6_yaml@2.8.1/node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:29691:4
 ‚ùØ EnvironmentPluginContainer.transform ../node_modules/.pnpm/vite@7.1.7_@types+node@24.9.1_jiti@2.6.0_lightningcss@1.30.1_tsx@4.20.6_yaml@2.8.1/node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:30984:14
 ‚ùØ loadAndTransform ../node_modules/.pnpm/vite@7.1.7_@types+node@24.9.1_jiti@2.6.0_lightningcss@1.30.1_tsx@4.20.6_yaml@2.8.1/node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:26116:26

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/11]‚éØ


‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 10 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  tests/unit/BookingsListMobile.test.tsx > BookingsListMobile > renders booking summary and triggers actions
TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/cancel booking at test bistro/i`

Here are the accessible roles:

  table:

  Name "Bookings list (mobile view)":
  [36m<div[39m
    [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
    [33mclass[39m=[32m"space-y-4"[39m
    [33mrole[39m=[32m"table"[39m
  [36m/>[39m

  --------------------------------------------------
  row:

  Name "Test Bistro":
  [36m<div[39m
    [33maria-describedby[39m=[32m"_r_0_-booking-1-details"[39m
    [33maria-labelledby[39m=[32m"_r_0_-booking-1-heading"[39m
    [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
    [33mdata-testid[39m=[32m"mobile-booking-row"[39m
    [33mrole[39m=[32m"row"[39m
  [36m/>[39m

  --------------------------------------------------
  cell:

  Name "Date(2050-01-15) Time(18:00) Booking status: Confirmed":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Party Party of 4 Notes Birthday dinner":
  [36m<dl[39m
    [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
    [33mid[39m=[32m"_r_0_-booking-1-details"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Edit booking Cancel":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
  [36m/>[39m

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
  [36m/>[39m

  --------------------------------------------------
  rowheader:

  Name "Test Bistro":
  [36m<div[39m
    [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
    [33mid[39m=[32m"_r_0_-booking-1-heading"[39m
    [33mrole[39m=[32m"rowheader"[39m
  [36m/>[39m

  --------------------------------------------------
  term:

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium"[39m
  [36m/>[39m

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium text-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  definition:

  Name "":
  [36m<dd />[39m

  Name "":
  [36m<dd[39m
    [33mclass[39m=[32m"text-muted-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "Edit booking at Test Bistro":
  [36m<button[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Edit booking at Test Bistro"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Cancel":
  [36m<button[39m
    [33maria-description[39m=[32m"Cancel booking at Test Bistro"[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Cancel"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
      [33mclass[39m=[32m"space-y-4"[39m
      [33mrole[39m=[32m"table"[39m
    [36m>[39m
      [36m<div[39m
        [33maria-describedby[39m=[32m"_r_0_-booking-1-details"[39m
        [33maria-labelledby[39m=[32m"_r_0_-booking-1-heading"[39m
        [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
        [33mdata-testid[39m=[32m"mobile-booking-row"[39m
        [33mrole[39m=[32m"row"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
            [36m>[39m
              [0mDate(2050-01-15)[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
            [36m>[39m
              [0mTime(18:00)[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"Booking status: Confirmed"[39m
            [33mclass[39m=[32m"rounded-md border transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover:bg-secondary/80 relative flex items-center gap-2 border-transparent bg-muted/60 px-3 py-1 text-xs font-medium capitalize text-foreground before:block before:h-2 before:w-2 before:rounded-full before:bg-[color:var(--status-accent)]"[39m
            [33mstyle[39m=[32m"--status-accent: #047857;"[39m
          [36m>[39m
            [0mConfirmed[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
          [33mid[39m=[32m"_r_0_-booking-1-heading"[39m
          [33mrole[39m=[32m"rowheader"[39m
        [36m>[39m
          [36m<div>[39m
            [0mTest Bistro[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<dl[39m
          [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
          [33mid[39m=[32m"_r_0_-booking-1-details"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between text-foreground"[39m
          [36m>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium"[39m
            [36m>[39m
              [0mParty[0m
            [36m</dt>[39m
            [36m<dd>[39m
              [0mParty of [0m
              [0m4[0m
            [36m</dd>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium text-foreground"[39m
            [36m>[39m
              [0mNotes[0m
            [36m</dt>[39m
            [36m<dd[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0mBirthday dinner[0m
            [36m</dd>[39m
          [36m</div>[39m
        [36m</dl>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Edit booking at Test Bistro"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mEdit booking[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-description[39m=[32m"Cancel booking at Test Bistro"[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Cancel"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mCancel[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ tests/unit/BookingsListMobile.test.tsx:59:29
     57| 
     58|     await user.click(screen.getByRole('button', { name: /edit booking ‚Ä¶
     59|     await user.click(screen.getByRole('button', { name: /cancel bookin‚Ä¶
       |                             ^
     60| 
     61|     expect(handleEdit).toHaveBeenCalledWith(booking);

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/11]‚éØ

 FAIL  tests/unit/BookingsListMobile.test.tsx > BookingsListMobile > renders ops variant with customer context and fallback notes
TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/cancel booking for priya sharma/i`

Here are the accessible roles:

  table:

  Name "Bookings list (mobile view)":
  [36m<div[39m
    [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
    [33mclass[39m=[32m"space-y-4"[39m
    [33mrole[39m=[32m"table"[39m
  [36m/>[39m

  --------------------------------------------------
  row:

  Name "Priya Sharma priya@example.com":
  [36m<div[39m
    [33maria-describedby[39m=[32m"_r_3_-booking-ops-details"[39m
    [33maria-labelledby[39m=[32m"_r_3_-booking-ops-heading"[39m
    [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
    [33mdata-testid[39m=[32m"mobile-booking-row"[39m
    [33mrole[39m=[32m"row"[39m
  [36m/>[39m

  --------------------------------------------------
  cell:

  Name "Date(2050-01-20) Time(17:30) Booking status: Pending":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Party Party of 2 Restaurant Ops Bistro Notes ‚Äî":
  [36m<dl[39m
    [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
    [33mid[39m=[32m"_r_3_-booking-ops-details"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  Name "Edit booking Cancel":
  [36m<div[39m
    [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
    [33mrole[39m=[32m"cell"[39m
  [36m/>[39m

  --------------------------------------------------
  paragraph:

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
  [36m/>[39m

  Name "":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
  [36m/>[39m

  Name "priya@example.com":
  [36m<p[39m
    [33mclass[39m=[32m"text-sm font-normal text-muted-foreground"[39m
    [33mtitle[39m=[32m"priya@example.com"[39m
  [36m/>[39m

  --------------------------------------------------
  rowheader:

  Name "Priya Sharma priya@example.com":
  [36m<div[39m
    [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
    [33mid[39m=[32m"_r_3_-booking-ops-heading"[39m
    [33mrole[39m=[32m"rowheader"[39m
  [36m/>[39m

  --------------------------------------------------
  term:

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium"[39m
  [36m/>[39m

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium"[39m
  [36m/>[39m

  Name "":
  [36m<dt[39m
    [33mclass[39m=[32m"font-medium text-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  definition:

  Name "":
  [36m<dd />[39m

  Name "":
  [36m<dd[39m
    [33mclass[39m=[32m"text-right text-muted-foreground"[39m
  [36m/>[39m

  Name "":
  [36m<dd[39m
    [33mclass[39m=[32m"text-muted-foreground"[39m
  [36m/>[39m

  --------------------------------------------------
  button:

  Name "Edit booking for Priya Sharma":
  [36m<button[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Edit booking for Priya Sharma"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  Name "Cancel":
  [36m<button[39m
    [33maria-description[39m=[32m"Cancel booking for Priya Sharma"[39m
    [33maria-disabled[39m=[32m"false"[39m
    [33maria-label[39m=[32m"Cancel"[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
    [33mdata-slot[39m=[32m"button"[39m
    [33mtype[39m=[32m"button"[39m
  [36m/>[39m

  --------------------------------------------------

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33maria-label[39m=[32m"Bookings list (mobile view)"[39m
      [33mclass[39m=[32m"space-y-4"[39m
      [33mrole[39m=[32m"table"[39m
    [36m>[39m
      [36m<div[39m
        [33maria-describedby[39m=[32m"_r_3_-booking-ops-details"[39m
        [33maria-labelledby[39m=[32m"_r_3_-booking-ops-heading"[39m
        [33mclass[39m=[32m"rounded-xl border text-card-foreground space-y-4 border-border/80 bg-card/95 p-4 shadow-sm backdrop-blur-sm"[39m
        [33mdata-testid[39m=[32m"mobile-booking-row"[39m
        [33mrole[39m=[32m"row"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-wrap items-baseline justify-between gap-y-2"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm font-medium text-muted-foreground"[39m
            [36m>[39m
              [0mDate(2050-01-20)[0m
            [36m</p>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-muted-foreground/80"[39m
            [36m>[39m
              [0mTime(17:30)[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"Booking status: Pending"[39m
            [33mclass[39m=[32m"rounded-md border transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover:bg-secondary/80 relative flex items-center gap-2 border-transparent bg-muted/60 px-3 py-1 text-xs font-medium capitalize text-foreground before:block before:h-2 before:w-2 before:rounded-full before:bg-[color:var(--status-accent)]"[39m
            [33mstyle[39m=[32m"--status-accent: #b45309;"[39m
          [36m>[39m
            [0mPending[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-1 text-lg font-semibold text-foreground"[39m
          [33mid[39m=[32m"_r_3_-booking-ops-heading"[39m
          [33mrole[39m=[32m"rowheader"[39m
        [36m>[39m
          [36m<div>[39m
            [0mPriya Sharma[0m
          [36m</div>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm font-normal text-muted-foreground"[39m
            [33mtitle[39m=[32m"priya@example.com"[39m
          [36m>[39m
            [0mpriya@example.com[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<dl[39m
          [33mclass[39m=[32m"space-y-1 text-sm text-muted-foreground"[39m
          [33mid[39m=[32m"_r_3_-booking-ops-details"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between text-foreground"[39m
          [36m>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium"[39m
            [36m>[39m
              [0mParty[0m
            [36m</dt>[39m
            [36m<dd>[39m
              [0mParty of [0m
              [0m2[0m
            [36m</dd>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between text-foreground"[39m
          [36m>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium"[39m
            [36m>[39m
              [0mRestaurant[0m
            [36m</dt>[39m
            [36m<dd[39m
              [33mclass[39m=[32m"text-right text-muted-foreground"[39m
            [36m>[39m
              [0mOps Bistro[0m
            [36m</dd>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<dt[39m
              [33mclass[39m=[32m"font-medium text-foreground"[39m
            [36m>[39m
              [0mNotes[0m
            [36m</dt>[39m
            [36m<dd[39m
              [33mclass[39m=[32m"text-muted-foreground"[39m
            [36m>[39m
              [0m‚Äî[0m
            [36m</dd>[39m
          [36m</div>[39m
        [36m</dl>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex flex-col gap-2 sm:flex-row sm:justify-end"[39m
          [33mrole[39m=[32m"cell"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Edit booking for Priya Sharma"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mEdit booking[0m
          [36m</button>[39m
          [36m<button[39m
            [33maria-description[39m=[32m"Cancel booking for Priya Sharma"[39m
            [33maria-disabled[39m=[32m"false"[39m
            [33maria-label[39m=[32m"Cancel"[39m
            [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-4 py-2 has-[>svg]:px-3 h-11 w-full sm:w-auto text-destructive"[39m
            [33mdata-slot[39m=[32m"button"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mCancel[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ‚ùØ Object.getElementError ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ tests/unit/BookingsListMobile.test.tsx:117:33
    115| 
    116|     const editButton = screen.getByRole('button', { name: /edit bookin‚Ä¶
    117|     const cancelButton = screen.getByRole('button', { name: /cancel bo‚Ä¶
       |                                 ^
    118| 
    119|     await userEvent.click(editButton);

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/11]‚éØ

 FAIL  shared/api/__tests__/client.test.ts > apiClient > prefixes requests with the configured base URL
AssertionError: expected "spy" to be called with arguments: [ ‚Ä¶(2) ][90m

Received: 

[1m  1st spy call:

[22m[2m  [[22m
[2m    "https://api.example.com/bookings",[22m
[2m    {[22m
[2m      "body": undefined,[22m
[2m      "credentials": "include",[22m
[32m-     "headers": {[90m
[32m-       "Content-Type": "application/json",[90m
[32m-     },[90m
[31m+     "headers": Headers {},[90m
[2m      "method": "GET",[22m
[32m-     "signal": Any<AbortSignal>,[90m
[31m+     "signal": AbortSignal {},[90m
[2m    },[22m
[2m  ][22m
[39m[90m

Number of calls: [1m1[22m
[39m
 ‚ùØ shared/api/__tests__/client.test.ts:44:23
     42|     await apiClient.get('/bookings');
     43| 
     44|     expect(fetchMock).toHaveBeenCalledWith('https://api.example.com/bo‚Ä¶
       |                       ^
     45|       method: 'GET',
     46|       headers: {

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/11]‚éØ

 FAIL  tests/features/wizard/details-step.analytics.test.tsx > <DetailsStep /> analytics > uses dependency-provided analytics tracker on submit
Error: useWizardContext must be used within WizardProvider
 ‚ùØ useWizardContext features/reservations/wizard/context/WizardContext.tsx:23:11
     21|   const context = useContext(WizardContext);
     22|   if (!context) {
     23|     throw new Error('useWizardContext must be used within WizardProvid‚Ä¶
       |           ^
     24|   }
     25|   return context;
 ‚ùØ useWizardNavigation features/reservations/wizard/context/WizardContext.tsx:116:7
 ‚ùØ DetailsStep features/reservations/wizard/ui/steps/DetailsStep.tsx:48:24
 ‚ùØ Object.react_stack_bottom_frame ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 ‚ùØ renderWithHooks ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 ‚ùØ updateFunctionComponent ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 ‚ùØ beginWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 ‚ùØ runWithFiberInDEV ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 ‚ùØ performUnitOfWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 ‚ùØ workLoopSync ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/11]‚éØ

 FAIL  tests/features/wizard/plan-step-form.analytics.test.tsx > usePlanStepForm analytics > tracks select_date when choosing a date
Error: useWizardContext must be used within WizardProvider
 ‚ùØ useWizardContext features/reservations/wizard/context/WizardContext.tsx:23:11
     21|   const context = useContext(WizardContext);
     22|   if (!context) {
     23|     throw new Error('useWizardContext must be used within WizardProvid‚Ä¶
       |           ^
     24|   }
     25|   return context;
 ‚ùØ useWizardState features/reservations/wizard/context/WizardContext.tsx:100:10
 ‚ùØ Module.usePlanStepForm features/reservations/wizard/hooks/usePlanStepForm.ts:587:24
 ‚ùØ __vi_import_2__.renderHook.wrapper.wrapper tests/features/wizard/plan-step-form.analytics.test.tsx:156:9
 ‚ùØ TestComponent ../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.2.2_@type_15d474de7481bb0af842c1b1705139a8/node_modules/@testing-library/react/dist/pure.js:331:27
 ‚ùØ Object.react_stack_bottom_frame ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 ‚ùØ renderWithHooks ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 ‚ùØ updateFunctionComponent ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 ‚ùØ beginWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 ‚ùØ runWithFiberInDEV ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:874:13

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[6/11]‚éØ

 FAIL  tests/features/wizard/plan-step-form.analytics.test.tsx > usePlanStepForm analytics > tracks select_party when changing party size
Error: useWizardContext must be used within WizardProvider
 ‚ùØ useWizardContext features/reservations/wizard/context/WizardContext.tsx:23:11
     21|   const context = useContext(WizardContext);
     22|   if (!context) {
     23|     throw new Error('useWizardContext must be used within WizardProvid‚Ä¶
       |           ^
     24|   }
     25|   return context;
 ‚ùØ useWizardState features/reservations/wizard/context/WizardContext.tsx:100:10
 ‚ùØ Module.usePlanStepForm features/reservations/wizard/hooks/usePlanStepForm.ts:587:24
 ‚ùØ __vi_import_2__.renderHook.wrapper.wrapper tests/features/wizard/plan-step-form.analytics.test.tsx:186:9
 ‚ùØ TestComponent ../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.2.2_@type_15d474de7481bb0af842c1b1705139a8/node_modules/@testing-library/react/dist/pure.js:331:27
 ‚ùØ Object.react_stack_bottom_frame ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 ‚ùØ renderWithHooks ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 ‚ùØ updateFunctionComponent ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 ‚ùØ beginWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 ‚ùØ runWithFiberInDEV ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:874:13

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[7/11]‚éØ

 FAIL  tests/features/wizard/plan-step-form.analytics.test.tsx > usePlanStepForm analytics > exposes time slot suggestions for a selected date
Error: useWizardContext must be used within WizardProvider
 ‚ùØ useWizardContext features/reservations/wizard/context/WizardContext.tsx:23:11
     21|   const context = useContext(WizardContext);
     22|   if (!context) {
     23|     throw new Error('useWizardContext must be used within WizardProvid‚Ä¶
       |           ^
     24|   }
     25|   return context;
 ‚ùØ useWizardState features/reservations/wizard/context/WizardContext.tsx:100:10
 ‚ùØ Module.usePlanStepForm features/reservations/wizard/hooks/usePlanStepForm.ts:587:24
 ‚ùØ __vi_import_2__.renderHook.wrapper.wrapper tests/features/wizard/plan-step-form.analytics.test.tsx:215:9
 ‚ùØ TestComponent ../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.2.2_@type_15d474de7481bb0af842c1b1705139a8/node_modules/@testing-library/react/dist/pure.js:331:27
 ‚ùØ Object.react_stack_bottom_frame ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 ‚ùØ renderWithHooks ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 ‚ùØ updateFunctionComponent ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 ‚ùØ beginWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 ‚ùØ runWithFiberInDEV ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:874:13

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/11]‚éØ

 FAIL  tests/features/wizard/plan-step-form.analytics.test.tsx > usePlanStepForm analytics > tracks changeOccasion when occasion picker toggled
Error: useWizardContext must be used within WizardProvider
 ‚ùØ useWizardContext features/reservations/wizard/context/WizardContext.tsx:23:11
     21|   const context = useContext(WizardContext);
     22|   if (!context) {
     23|     throw new Error('useWizardContext must be used within WizardProvid‚Ä¶
       |           ^
     24|   }
     25|   return context;
 ‚ùØ useWizardState features/reservations/wizard/context/WizardContext.tsx:100:10
 ‚ùØ Module.usePlanStepForm features/reservations/wizard/hooks/usePlanStepForm.ts:587:24
 ‚ùØ __vi_import_2__.renderHook.wrapper.wrapper tests/features/wizard/plan-step-form.analytics.test.tsx:240:9
 ‚ùØ TestComponent ../node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.1_@types+react-dom@19.2.2_@type_15d474de7481bb0af842c1b1705139a8/node_modules/@testing-library/react/dist/pure.js:331:27
 ‚ùØ Object.react_stack_bottom_frame ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 ‚ùØ renderWithHooks ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 ‚ùØ updateFunctionComponent ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 ‚ùØ beginWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 ‚ùØ runWithFiberInDEV ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:874:13

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[9/11]‚éØ

 FAIL  tests/features/wizard/review-step.analytics.test.tsx > <ReviewStep /> analytics > tracks confirm_open with dependency-provided analytics
Error: useWizardContext must be used within WizardProvider
 ‚ùØ useWizardContext features/reservations/wizard/context/WizardContext.tsx:23:11
     21|   const context = useContext(WizardContext);
     22|   if (!context) {
     23|     throw new Error('useWizardContext must be used within WizardProvid‚Ä¶
       |           ^
     24|   }
     25|   return context;
 ‚ùØ useWizardState features/reservations/wizard/context/WizardContext.tsx:100:10
 ‚ùØ useReviewStep features/reservations/wizard/hooks/useReviewStep.ts:25:24
 ‚ùØ ReviewStep features/reservations/wizard/ui/steps/ReviewStep.tsx:17:39
 ‚ùØ Object.react_stack_bottom_frame ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 ‚ùØ renderWithHooks ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 ‚ùØ updateFunctionComponent ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 ‚ùØ beginWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 ‚ùØ runWithFiberInDEV ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 ‚ùØ performUnitOfWork ../node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[10/11]‚éØ

 FAIL  features/reservations/wizard/ui/__tests__/BookingWizard.plan-review.test.tsx > BookingWizard plan to review flow > persists selections through review and triggers confirmation mutation
TestingLibraryElementError: Unable to find an element with the text: /Test Kitchen/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<main[39m
      [33mclass[39m=[32m"min-h-screen w-full bg-muted/[0.15] px-4 pb-20 pt-6 font-sans text-foreground transition-[padding-bottom] duration-200 sm:pt-12 md:px-6 lg:px-10"[39m
      [33mstyle[39m=[32m"padding-bottom: calc((0px + 1.5rem) + env(0px * , * safe-area-inset-bottom));"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"mx-auto flex w-full max-w-5xl flex-col gap-10 sm:gap-12"[39m
      [36m>[39m
        [36m<span[39m
          [33maria-hidden[39m=[32m"true"[39m
          [33mclass[39m=[32m"block h-px w-full"[39m
        [36m/>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"polite"[39m
          [33mclass[39m=[32m"sr-only"[39m
        [36m>[39m
          [0mStep 3 of 4. Dinner. 2 guests, 18:15, May 20 2025[0m
        [36m</div>[39m
        [36m<section[39m
          [33maria-labelledby[39m=[32m"_r_e_"[39m
          [33mclass[39m=[32m"mx-auto w-full max-w-4xl lg:max-w-5xl"[39m
          [33mdata-state[39m=[32m"active"[39m
          [33mdata-step[39m=[32m"3"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-xl border bg-card text-card-foreground shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-ring/60"[39m
            [33mtabindex[39m=[32m"-1"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col p-6 space-y-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-3"[39m
              [36m>[39m
                [36m<div[39m
                  [33maria-level[39m=[32m"2"[39m
                  [33mclass[39m=[32m"font-semibold tracking-tight text-[clamp(1.65rem,1.35rem+0.6vw,2.1rem)] text-foreground"[39m
                  [33mid[39m=[32m"_r_e_"[39m
                  [33mrole[39m=[32m"heading"[39m
                [36m>[39m
                  [0mReview and confirm[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-base text-muted-foreground"[39m
              [36m>[39m
                [0mDouble-check the details below. You can edit any section before confirming.[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 pt-0 sm:space-y-8 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<p[39m
                  [33maria-live[39m=[32m"polite"[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mReview details for 2 at 18:15 on May 20 2025. Press confirm to finalise your reservation.[0m
                [36m</p>[39m
                [36m<dl[39m
                  [33mclass[39m=[32m"grid gap-4 rounded-2xl border border-border bg-card p-5 shadow-sm sm:grid-cols-2 lg:grid-cols-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mSummary[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
                    [36m>[39m
                      [0m2 at 18:15 on May 20 2025[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mVenue[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mWhite Horse Pub (Waterbeach)[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mParty size[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0m2[0m
                      [0m [0m
                      [0mguests[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mFull name[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mAda Lovelace[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mEmail[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mada@example.com[0m
                    [36m</dd>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<dt[39m
                      [33mclass[39m=[32m"text-xs uppercase tracking-[0.18em] text-muted-foreground"[39m
                    [36m>[39m
                      [0mPhone[0m
                    [36m</dt>[39m
                    [36m<dd[39m
                      [33mclass[39m=[32m"text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0m07123 45678...
 ‚ùØ Object.getElementError ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:37:19
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ‚ùØ ../node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ‚ùØ features/reservations/wizard/ui/__tests__/BookingWizard.plan-review.test.tsx:183:19
    181| 
    182|     await screen.findByText('Review and confirm');
    183|     expect(screen.getByText(/Test Kitchen/)).toBeVisible();
       |                   ^
    184|     expect(screen.getByText(/Ada Lovelace/)).toBeVisible();
    185|     const timeNodes = screen.getAllByText(/18:15/);

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[11/11]‚éØ


 Test Files  7 failed | 44 passed (51)
      Tests  10 failed | 163 passed (173)
   Start at  22:38:20
   Duration  10.95s (transform 3.60s, setup 6.13s, collect 22.38s, tests 18.88s, environment 42.86s, prepare 5.43s)

‚ÄâELIFECYCLE‚Äâ Test failed. See above for more details.
